{"version":3,"sources":["serviceWorker.js","reducers/index.js","utils/index.js","api/index.js","api/player.js","actions/index.js","components/loading/index.js","pages/home/index.js","components/tracklist-header/index.js","components/tracklist/index.js","pages/playlist/index.js","components/grid/index.js","pages/artist/index.js","pages/saved-tracks/index.js","pages/album/index.js","components/view/index.js","components/login/index.js","config.js","components/menu/index.js","components/playing/index.js","components/timer/index.js","components/timerContainer/index.js","components/nowplaying/index.js","components/main/index.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","combineReducers","user","state","action","type","payload","logged","playlists","device_id","home","uri","view","player","featured_paylists","current_state","grid","getSession","access_token","localStorage","getItem","token_type","isAuthenticated","expires_at","JSON","parse","Date","valueOf","orderList","item","arr","key","indexOf","before","newArr","found","forEach","n","i","includes","push","formatTrackDuration","millis","minutes","Math","floor","seconds","toFixed","get_featured_playlist","axios","get","headers","get_album","id","split","length","get_artists_albums","get_playlist_cover_image","get_playlist_items","get_a_playlist","get_artist_top_tracks","get_artist","totalDuration","tracks","duration","reduce","total","duration_ms","fetchPlaylist","a","playlistData","promises","playlist","playlistInfo","playlistCover","Promise","all","Object","values","images","data","items","map","track","filter","total_duration","owner","followers","name","description","public","album","artists","table","head","body","fetchAlbum","fetchArtist","artist","topTracks","albums","artistAlbums","message","album_type","artistSingles","getView","content","previous","lastUri","console","log","fetch","method","err","play","next","pause","resume","uris","queue","stringify","init","setDeviceId","Spotify","Player","playerInstance","getOAuthToken","callback","setView","props","dispatch","setItem","Api","logout","removeItem","status","Loading","className","Main","this","getHome","onClick","style","backgroundImage","url","backgroundSize","backgroundPosition","row","renderAlbums","bind","keys","renderRow","React","Component","connect","recentlyTracks","featuredPlaylists","topArtists","factoryPlaylists","response","factoryTopArtists","ids","limit","href","factoryRecentlyTracks","top_artists","StyledHeader","Styled","div","TracklistHeader","src","alt","display_name","Tracklist","filteredItems","index","ev","stopPropagation","setArtist","setAlbum","setState","toLowerCase","replace","target","value","placeholder","onChange","onFilter","scope","renderList","class","showMore","Playlist","nextProps","Grid","Artist","SavedTracks","getSavedTracks","then","savedTracks","factorySavedTracks","Album","View","StyledLogin","styled","process","Login","login","clientId","redirectUri","onSuccess","onFailure","expires_in","setSession","Menu","getPlaylists","menuItems","icon","el","data-owner","viewBox","fill","d","Playing","current_track","image","Timer","count","fixed","TimerContainer","paused","position","useState","timer","cb","start","setTimeout","stop","clearTimeout","useEffect","undefined","NowPlaying","addListener","connected","configurePlayer","setCurrentState","teste","togglePlayButton","shuffle","repeat_mode","track_window","next_tracks","previous_tracks","initiated","getPlayer","run","onSpotifyWebPlaybackSDKReady","lastPage","rel","loading","width","height","data-recalc-dims","getUser","App","isLogged","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.6cd04206.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from 'redux';\n\nconst GET_USER = 'GET_USER';\nconst GET_PLAYLISTS = 'GET_PLAYLISTS';\nconst SET_DEVICE_ID = 'SET_DEVICE_ID';\nconst GET_HOME = 'GET_HOME';\nconst SET_VIEW = 'SET_VIEW';\nconst GET_FEATURED_PLAYLISTS = 'GET_FEATURED_PLAYLISTS';\nconst GET_VIEW = 'GET_VIEW';\nconst GET_PLAYER = 'GET_PLAYER';\nconst SET_CURRENT_STATE = 'SET_CURRENT_STATE';\nconst GET_SAVED_TRACKS = 'GET_SAVED_TRACKS';\n\nconst LOGIN = 'LOGIN';\nconst LOGOUT = 'LOGOUT';\nconst ISLOGGED = 'ISLOGGED';\n\nconst userReducer = (state={},action) => {\n    if(action.type === GET_USER) {\n        return { ...state , ...action.payload };\n    }\n    if(action.type === LOGOUT) {\n        return {};\n    }\n    return state;\n}\n\nconst homeReducer = (state={},action) => {\n    if(action.type === GET_HOME) {\n        return { ...state , ...action.payload };\n    }\n    return state;\n}\n\nconst featuredPaylistReducer = (state={},action) => {\n    if(action.type === GET_FEATURED_PLAYLISTS) {\n        return { ...state , ...action.payload };\n    }\n    return state;\n}\n\nconst playlistsReducer = (state={},action) => {\n    if(action.type === GET_PLAYLISTS) {\n        return { ...state , ...action.payload };\n    }\n    if(action.type === LOGOUT) {\n        return {};\n    }\n    return state;\n}\n\nconst loginReducer = (state={},action) => {\n    if(action.type === ISLOGGED) {\n        return action.payload;\n    }\n    if(action.type === LOGIN) {\n        return action.payload;\n    }\n    if(action.type === LOGOUT) {\n        return action.payload;\n    }\n    return state;\n}\n\nconst uriReducer = (state='home',action) => {\n    if(action.type === SET_VIEW) {\n        return action.payload;\n    }\n    return state;\n}\n\nconst deviceIdReducer = (state={},action) => {\n    if(action.type === SET_DEVICE_ID) {\n        return action.payload;\n    }\n    return state;\n}\n\nconst viewReducer = (state=[],action) => {\n    if(action.type === GET_VIEW) {\n        return action.payload;\n    }\n    return state;\n}\n\nconst playerReducer = (state={},action) => {\n    if(action.type === GET_PLAYER) {\n        return action.payload;\n    }\n    return state;\n}\n\nconst currentStateReducer = (state={},action) => {\n    if(action.type === SET_CURRENT_STATE) {\n        return action.payload;\n    }\n    return state;\n}\n\nconst gridReducer = (state={},action) => {\n    if(action.type === GET_SAVED_TRACKS) {\n        return action.payload;\n    }\n    return state;\n}\n\nexport default combineReducers({\n    user : userReducer,\n    logged : loginReducer,\n    playlists : playlistsReducer,\n    device_id : deviceIdReducer,\n    home : homeReducer,\n    uri : uriReducer,\n    view : viewReducer,\n    player : playerReducer,\n    featured_paylists : featuredPaylistReducer,\n    current_state : currentStateReducer,\n    grid : gridReducer\n});\n","export const setSession = ({access_token,token_type,expires_in}) => {\n    const expires_at = new Date().valueOf() + 3600000;\n    localStorage.setItem('access_token', access_token);\n    localStorage.setItem('token_type', token_type);\n    localStorage.setItem('expires_in', expires_in);\n    localStorage.setItem('expires_at', expires_at);\n    console.log('setsession')\n}\n\nexport const removeSession = () => {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('token_type');\n    localStorage.removeItem('expires_in');\n    localStorage.removeItem('expires_at');\n    console.log('removesession')\n}\n\nexport const getSession = () => {\n    return {\n        access_token : localStorage.getItem('access_token'),\n        token_type : localStorage.getItem('token_type')\n    }\n}\n\nexport const isAuthenticated = () => {\n    let expires_at = JSON.parse(localStorage.getItem('expires_at'));\n    return expires_at && new Date().valueOf() < expires_at;\n}\n\nexport const orderList = (item,arr) => {\n    const key = arr.indexOf(item)\n    let before = [],newArr = [], found = false;\n    arr.forEach((n,i) => {\n        if(i === key) found = true;\n        if(!found) {\n            before.push(n);\n        } else {\n            if(!newArr.includes(n)) {\n                newArr.push(n);\n            }\n        }\n    });\n\n    before.forEach(i => {\n        newArr.push(i);\n    });\n\n    return newArr;\n}\n\nexport const formatTrackDuration = (millis) => {\n    var minutes = Math.floor(millis / 60000);\n    var seconds = ((millis % 60000) / 1000).toFixed(0);\n    return `${minutes}:${(seconds < 10 ? \"0\" : \"\")}${seconds}`;\n}\n","import axios from 'axios';\n\nimport { getSession } from '../utils';\n\n/**\n * Scope to provide the right acess to information\n * @type scope\n */\nexport const scope = 'user-read-private user-library-read user-read-playback-state user-read-playback-position user-modify-playback-state user-top-read user-read-recently-played streaming user-read-email'\n\n/**\n * Basic request with the token provided\n * @function get\n * @param request url\n * @return {Promise}\n */\nexport const get = (url) => {\n    return axios.get(url, {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for the user data\n * @function get_user\n * @return {Promise}\n */\nexport const get_user = () => {\n    return axios.get('https://api.spotify.com/v1/me', {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request user's saved tracks\n * @function get_saved_tracks\n * @return {Promise}\n */\nexport const get_saved_tracks = () => {\n    return axios.get('https://api.spotify.com/v1/me/tracks?limit=30', {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for the current track data\n * @function get_featured_playlist\n * @return {Promise}\n */\nexport const get_featured_playlist = () => {\n    return axios.get('https://api.spotify.com/v1/browse/featured-playlists?country=CA&limit=4', {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for the current track data\n * @function get_current_track\n * @return {Promise}\n */\nexport const get_current_track = () => {\n    return axios.get('https://api.spotify.com/v1/me/player/currently-playing', {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for the top artists list\n * @function top_artists\n * @return {Promise}\n */\nexport const top_artists = () => {\n    return axios.get('https://api.spotify.com/v1/me/top/artists', {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for the recently listened music of the user\n * @function get_recently_tracks\n * @return {Promise}\n */\nexport const get_recently_tracks = () => {\n    return axios.get('https://api.spotify.com/v1/me/player/recently-played', {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Retrieves the devices avaiable\n * @function get_devices\n * @return {Promise}\n */\nexport const get_devices = () => {\n    return axios.get('https://api.spotify.com/v1/me/player/devices', {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for the user's playlists\n * @function get_playlists\n * @return {Promise}\n */\nexport const get_playlists = () => {\n    return axios.get('https://api.spotify.com/v1/me/playlists?limit=30&offset=0', {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for a album\n * @function get_album\n * @return {Promise}\n */\nexport const get_album = ({uri}) => {\n    const id = uri.split(':');\n    return axios.get('https://api.spotify.com/v1/albums/' + id[id.length-1], {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for a artist's albums\n * @function get_artists_albums\n * @return {Promise}\n */\nexport const get_artists_albums = ({uri}) => {\n    const id = uri.split(':');\n    return axios.get(`https://api.spotify.com/v1/artists/${id[id.length-1]}/albums`, {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for a playlist\n * @function get_playlist_cover_image\n * @return {Promise}\n */\nexport const get_playlist_cover_image = ({uri}) => {\n    const id = uri.split(':');\n    return axios.get(`https://api.spotify.com/v1/playlists/${id[id.length-1]}/images`, {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for a playlist\n * @function get_playlist_items\n * @return {Promise}\n */\nexport const get_playlist_items = ({uri}) => {\n    const id = uri.split(':');\n    return axios.get(`https://api.spotify.com/v1/playlists/${id[id.length-1]}/tracks`, {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for a playlist\n * @function get_a_playlist\n * @return {Promise}\n */\nexport const get_a_playlist = ({uri}) => {\n    const id = uri.split(':');\n    return axios.get('https://api.spotify.com/v1/playlists/' + id[id.length-1], {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n\n/**\n * Request for a get_artist_top_tracks\n * @function get_artist_top_tracks\n * @return {Promise}\n */\nexport const get_artist_top_tracks = ({uri}) => {\n    const id = uri.split(':');\n    return axios.get(`https://api.spotify.com/v1/artists/${id[id.length-1]}/top-tracks?country=BR`, {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n/**\n * Request for a playlist\n * @function get_artist\n * @return {Promise}\n */\nexport const get_artist = ({uri}) => {\n    const id = uri.split(':');\n    return axios.get('https://api.spotify.com/v1/artists/' + id[id.length-1], {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\n\n\n/**\n * Request for a playlist\n * @function get_track\n * @return {Promise}\n */\nexport const get_track = ({uri}) => {\n    const id = uri.split(':');\n    return axios.get('https://api.spotify.com/v1/tracks/' + id[id.length-1], {\n        headers : {\n            'content-type' : 'application/json',\n            'Authorization' : `Bearer ${getSession().access_token}`\n        }\n    });\n}\n","import {\n    get_album,\n    get_playlist_items,\n    get_artist,\n    get_artists_albums,\n    get_playlist_cover_image,\n    get_artist_top_tracks,\n    get_a_playlist\n} from \"./index\";\n\nimport { orderList, getSession, formatTrackDuration } from \"../utils\";\n\nconst totalDuration = (tracks) => {\n    if(!tracks) return false;\n    let initialValue = 0;\n    const duration = tracks.reduce((total,{duration_ms}) => total + duration_ms,initialValue);\n\n    return formatTrackDuration(duration);\n}\n\nconst fetchPlaylist = async (uri) => {\n    let playlistData = {};\n    const promises = {\n        playlist : get_playlist_items({uri}),\n        playlistInfo : get_a_playlist({uri}),\n        playlistCover : get_playlist_cover_image({uri}),\n    }\n    const [ playlist, playlistInfo, playlistCover ] = await Promise.all(Object.values(promises));\n\n    playlistData.type = 'playlist';\n    playlistData.images = playlistCover.data;\n    playlistData.id = playlist.data.id;\n    playlistData.tracks = playlist.data.items.map((i) => i.track).filter((i) => i);\n\n    playlistData.total_duration = totalDuration(playlistData.tracks);\n    playlistData.owner = playlistInfo.data.owner;\n    playlistData.followers = playlistInfo.data.followers.total;\n    playlistData.name = playlistInfo.data.name;\n    playlistData.description = playlistInfo.data.description;\n    playlistData.public = playlistInfo.data.public;\n\n\n    playlistData.tracks = playlistData.tracks.map(i => {\n        return {\n            id : i.id,\n            name : i.name,\n            duration_ms : formatTrackDuration(i.duration_ms),\n            album : i.album,\n            artists : i.artists,\n            uri : i.uri,\n        }\n    });\n\n    playlistData.table = {\n        head :  ['name','artist','album','duration'],\n        body  : playlistData.tracks\n    }\n\n    return playlistData;\n}\n\nconst fetchAlbum = async (uri) => {\n    let album = {};\n    const {data} = await get_album({uri});\n\n    album.type = 'album';\n    album.name = data.name;\n    album.tracks = data.tracks.items.map((i) => {\n        return {\n            id : i.id,\n            name : i.name,\n            duration_ms : formatTrackDuration(i.duration_ms),\n            uri : i.uri,\n            artists : i.artists\n        }\n    });\n\n    album.images = data.images;\n\n    album.table = {\n        head :  ['name','artist','duration'],\n        body  : album.tracks\n    }\n\n\n    return album;\n}\n\nconst fetchArtist = async (uri) => {\n    const ids = [];\n    let artist = {};\n    const { data } = await get_artist({uri});\n    const { data : topTracks } = await get_artist_top_tracks({uri});\n    const { data : albums } = await get_artists_albums({uri});\n\n    artist.type = 'artist';\n    artist.name = data.name;\n    artist.images = data.images;\n\n    if(!artist.tracks) {\n        artist.tracks = topTracks.tracks;\n        artist.total_duration = totalDuration(artist.tracks);\n    }\n\n    artist.tracks = artist.tracks.map(i => {\n        return {\n            id : i.id,\n            name : i.name,\n            duration_ms : formatTrackDuration(i.duration_ms),\n            uri : i.uri,\n        }\n    });\n\n    artist.albums = {\n        artistAlbums : {\n            message : 'Albums',\n            type : 'artist',\n            items : albums.items.filter(i => i.album_type === 'album')\n        },\n        artistSingles : {\n            message : 'Singles',\n            type : 'artist',\n            items : albums.items.filter(i => i.album_type === 'single')\n        }\n    };\n\n    artist.table = {\n        head :  ['name','duration'],\n        body  : artist.tracks\n    }\n\n    return artist;\n}\n\nconst getView = async ({uri}) => {\n    let content;\n    if(uri.split(':').indexOf('album') >= 0) {\n        content = await fetchAlbum(uri);\n    } else if(uri.split(':').indexOf('playlist') >= 0) {\n        content = await fetchPlaylist(uri);\n    } else if(uri.split(':').indexOf('artist') >= 0) {\n        content = await fetchArtist(uri);\n    }\n\n    return content;\n}\n\nconst init = ({setDeviceId}) => {\n    console.log('____init___');\n\n    const player = new window.Spotify.Player({\n        playerInstance: new window.Spotify.Player({ name: 'Kenjicas Player' }),\n        name: 'Kenjicas Player',\n        getOAuthToken: callback => callback(getSession().access_token)\n    });\n\n    player.setDeviceId = setDeviceId;\n    player.play = play;\n    player.next = next;\n    player.previous = previous;\n    player.pause = pause;\n    player.resume = resume;\n\n    return player;\n}\n\nconst previous = (lastUri) => {\n    console.log(lastUri)\n    try {\n        fetch('https://api.spotify.com/v1/me/player/previous',{\n            method : 'POST',\n            headers : {\n                'content-type' : 'application/json',\n                'authorization' : `${getSession().token_type} ${getSession().access_token}`\n            }\n        });\n    } catch(err) {\n        play({uri : lastUri})\n    }\n\n}\n\nconst next = () => {\n    fetch('https://api.spotify.com/v1/me/player/next',{\n        method : 'POST',\n        headers : {\n            'content-type' : 'application/json',\n            'authorization' : `${getSession().token_type} ${getSession().access_token}`\n        }\n    });\n}\n\nconst pause = () => {\n    fetch('https://api.spotify.com/v1/me/player/pause',{\n        method : 'PUT',\n        headers : {\n            'content-type' : 'application/json',\n            'authorization' : `${getSession().token_type} ${getSession().access_token}`\n        }\n    });\n}\n\nconst resume = async ({device_id}) => {\n    console.log('resume')\n   fetch(`https://api.spotify.com/v1/me/player/play?device_id=${device_id}`, {\n       method: 'PUT',\n       headers: {\n           'Content-Type': 'application/json',\n           'Authorization': `Bearer ${getSession().access_token}`\n       }\n   });\n}\n\nconst play = async ({uri,uris,device_id}) => {\n    console.log('play')\n    let queue = orderList(uri,(uris || []).map(({uri}) => uri));\n    fetch(`https://api.spotify.com/v1/me/player/play?device_id=${device_id}`, {\n        method: 'PUT',\n        body: JSON.stringify({ uris : queue.length ? queue : [uri] }),\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getSession().access_token}`\n        }\n    });\n}\n\nexport default {\n    init,\n    getView\n}\n","import { setSession,getSession, removeSession,isAuthenticated } from '../utils';\nimport {\n    get_user,\n    get_saved_tracks,\n    get_devices,get_playlists,\n    get_recently_tracks,\n    get_a_playlist,\n    get_featured_playlist,\n    top_artists\n} from '../api';\n\nimport Api from '../api/player';\n\n/**\n * Retrieves user information\n *\n * @function getUser\n * @return {Void}\n */\nexport const getUser = () => {\n    return dispatch => {\n        get_user().then( data => {\n            dispatch({\n                type : 'GET_USER',\n                payload : data.data\n            });\n        })\n    }\n}\n\n/**\n * Retrieves home data\n *\n * @function getHome\n * @return {Void}\n */\nexport const getHome = () => {\n    return async dispatch => {\n        const promises = [get_recently_tracks(),get_featured_playlist(),top_artists()];\n        const [ { data : recentlyTracks }, { data : featuredPlaylists }, { data : topArtists } ] = await Promise.all(Object.values(promises));\n        /**\n         * Model array of recently tracks to albums for the homepage view\n         *\n         * @function factoryRecentlyTracks\n         * @return {Void}\n         */\n        const factoryRecentlyTracks = (response) => {\n            let  ids = [];\n            let albums = response.items.map(item => item.track.album);\n\n            albums = albums.filter(item => {\n                if(ids.includes(item.id)) return false;\n                ids.push(item.id);\n                return item;\n            });\n\n            return {\n                next : response.next,\n                limit : response.limit,\n                href : response.href,\n                message : 'Recently Played',\n                items : albums,\n                type : 'recently-played'\n            }\n        }\n        /**\n         * Model the playlist response for the homepage view\n         *\n         * @function factoryPlaylists\n         * @return {Void}\n         */\n        const factoryPlaylists = (response) => {\n            return {\n                message : response.message,\n                items : response.playlists.items,\n                type : 'playlists'\n            }\n        }\n        /**\n         * Model user's top artists response for the homepage view\n         *\n         * @function factoryTopArtists\n         * @return {Void}\n         */\n        const factoryTopArtists = (response) => {\n            return {\n                message : 'Top Artists',\n                items : response.items,\n                type : 'top-artists'\n            };\n        }\n\n        dispatch({\n            type : 'GET_HOME',\n            payload : {\n                recentlyTracks : factoryRecentlyTracks(recentlyTracks),\n                featuredPlaylists : factoryPlaylists(featuredPlaylists),\n                top_artists : factoryTopArtists(topArtists)\n            }\n        });\n    }\n}\n\n/**\n * Retrieves user's saved tracks\n *\n * @function getSavedTracks\n * @return {Void}\n */\nexport const getSavedTracks = () => {\n    return dispatch => {\n        get_saved_tracks().then( ({data}) => {\n            /**\n             * Model array of recently tracks to albums for the saved tracks\n             *\n             * @function factorySavedTracks\n             * @return {Void}\n             */\n            const factorySavedTracks = (response) => {\n                let tracks = response.items.map(item => item.track);\n                tracks = tracks.map(item => {\n                    item.images = item.album.images;\n                    return {\n                        images : item.album.images,\n                        name : item.name,\n                        uri : item.uri,\n                        album : {\n                            uri : item.album.uri\n                        },\n                        artists : item.artists\n                    };\n                });\n                console.log(tracks)\n                return {\n                    next : response.next,\n                    limit : response.limit,\n                    message : 'Saved Tracks',\n                    items : tracks,\n                    type : 'saved-tracks'\n                }\n            }\n\n            dispatch({\n                type : 'GET_SAVED_TRACKS',\n                payload : {\n                    savedTracks : factorySavedTracks(data)\n                }\n            });\n        })\n    }\n}\n\n/**\n * Retrieves featured playlists from a country\n *\n * @function getFeaturedPlaylist\n * @return {Void}\n */\nexport const getFeaturedPlaylist = () => {\n    return dispatch => {\n        get_featured_playlist().then( data => {\n            dispatch({\n                type : 'GET_FEATURED_PLAYLISTS',\n                payload : data.data\n            });\n        })\n    }\n}\n\n/**\n * Retrieves a playlist\n *\n * @function getPlaylist\n * @return {Void}\n */\nexport const getPlaylist = (id) => {\n    return async dispatch => {\n        let {data} = await get_a_playlist(id);\n        dispatch({\n            type : 'GET_PLAYLIST',\n            payload : data\n        });\n    }\n}\n\n/**\n * Retrieves devices avaiable\n *\n * @function getDevices\n * @return {Void}\n */\nexport const getDevices = () => {\n    return dispatch => {\n        get_devices().then(({data}) => {\n            dispatch({\n                type : 'GET_DEVICES',\n                payload : data\n            });\n        })\n    }\n}\n\n/**\n * Sets a deviceId\n *\n * @function setDeviceId\n * @return {Void}\n */\nexport const setDeviceId = (data) => {\n    return dispatch => {\n        dispatch({\n            type : 'SET_DEVICE_ID',\n            payload : data\n        });\n    }\n}\n\n/**\n * Retrieves user's playlists\n *\n * @function getPlay    lists\n * @return {Void}\n */\nexport const getPlaylists = () => {\n    return dispatch => {\n        get_playlists().then(({data}) => {\n            dispatch({\n                type : 'GET_PLAYLISTS',\n                payload : data\n            });\n        })\n    }\n}\n\n/**\n * Verifies if the user is logged\n * @function isLogged\n * @return {Void}\n */\nexport const isLogged = () => {\n    return dispatch => {\n        dispatch({\n            type : 'ISLOGGED',\n            payload : {\n                status : isAuthenticated(),\n                access_token : getSession().access_token\n            }\n        });\n    }\n}\n\n/**\n * Sets the app's view ( browse,home,playlists,album )\n * @function setView\n * @param props contains the uri of a song or playlist\n * @return {Void}\n */\nexport const setView = (props) => {\n    return async dispatch => {\n        // salve o ultimo tpl acessado\n        (props || {}).uri && window.localStorage.setItem('last_uri',props.uri);\n        dispatch({\n            type : 'SET_VIEW',\n            payload : (props || {}).uri || 'home'\n        });\n    }\n}\n\n/**\n * Return the instance of the Player\n * @function getView\n * @return {Void}\n */\nexport const getView = ({uri}) => {\n    return async dispatch => {\n        const view = await Api.getView({uri});\n        dispatch({\n            type : 'GET_VIEW',\n            payload : view\n        });\n    }\n}\n\n/**\n * Clear the authorization data\n * @function logout\n * @return {Void}\n */\nexport const logout = () => {\n    return dispatch => {\n        removeSession();\n        dispatch({\n            type : 'LOGOUT',\n            payload : {\n                status : false,\n                access_token : false\n            }\n        });\n    }\n}\n\n/**\n * Sets token for the logged user\n * @function login\n * @param response authentication\n * @return {Void}\n */\nexport const login = (response) => {\n    return dispatch => {\n        setSession(response);\n        dispatch({\n            type : 'LOGIN',\n            payload : {\n                status : true,\n                access_token : getSession().access_token\n            }\n        });\n    }\n}\n\nexport const getPlayer = ({ setDeviceId }) => {\n    return dispatch => {\n        const player = Api.init({ setDeviceId });\n        dispatch({\n            type : 'GET_PLAYER',\n            payload : player\n        });\n    }\n}\n\n/**\n * Set current track and context data\n * @function setCurrentState\n * @param response changed state\n * @return {Void}\n */\nexport const setCurrentState = (state) => {\n    return dispatch => {\n        const {\n            position,\n            duration,\n            paused,\n            shuffle,\n            repeat_mode,\n            track_window : {\n                current_track,\n                next_tracks,\n                previous_tracks\n            }\n        } = state;\n\n        console.log(state);\n\n        dispatch({\n            type : 'SET_CURRENT_STATE',\n            payload : {\n                position,\n                duration,\n                paused,\n                shuffle,\n                repeat_mode,\n                current_track,\n                next_tracks,\n                previous_tracks\n            }\n        });\n    }\n}\n\n","import React from 'react';\n\nimport './style.scss';\n\nconst Loading = () => {\n    return (\n        <>\n            <div className=\"loading\">\n                <p>Loading...</p>\n            </div>\n        </>\n    )\n}\n\nexport default Loading;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport './style.scss';\n\nimport {\n    getHome,\n    setView\n} from \"../../actions\";\nimport Loading from \"../../components/loading\";\n\nclass Main extends React.Component {\n\n    componentDidMount() {\n        this.props.getHome();\n    }\n\n    renderAlbums(playlist) {\n        return (\n            <div className=\"album col-sm-3\" onClick={() => { this.props.setView({uri : playlist.uri}) }} key={playlist.id}>\n                <div className=\"image\" style={\n                    { backgroundImage: `url(${playlist.images.length && playlist.images[0].url})`, backgroundSize :'cover', backgroundPosition:'center center' }\n                }></div>\n                <div className=\"card-body\">\n                    <p className=\"card-title\">{playlist.name}</p>\n                    <small className=\"card-text\">{playlist.description}</small>\n                </div>\n            </div>\n        )\n    }\n\n    renderRow(row) {\n        return (\n            <>\n                <h2> {row.message} </h2>\n                <div className=\"albums-row\" key={row.type}>\n                    {row.items.map(this.renderAlbums.bind(this))}\n                </div>\n            </>\n        )\n    }\n\n    render() {\n        if(Object.keys(this.props.home).length) {\n            return (\n                <div className=\"home\">\n                    {Object.values(this.props.home).map(this.renderRow.bind(this))}\n                </div>\n            );\n        } else {\n            return (\n                <Loading />\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        home: state.home\n    };\n};\n\nexport default connect(mapStateToProps, {\n    getHome,\n    setView\n})(Main);\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst StyledHeader = Styled.div`\n        padding: 0 32px 24px;\n        margin-bottom: 15px;\n        display: flex;\n    align-items: center;\n        img {\n            width: 220px;\n        }\n\n        .info {\n            align-self: flex-end;\n            padding: 0 10px;\n            p { margin: 0; }\n            .info-type {\n                position: relative;\n                top: 5px;\n                text-transform: uppercase;\n                font-weight: 300;\n                font-size: 15px;\n            }\n            .info-name {\n                font-size: 82px;\n                line-height: 82px;\n                padding: 0.08em 0px;\n                font-weight: 600;\n                margin-bottom: 0;\n            }\n            .info-description {\n                max-width: 500px;\n            }\n            .info-details {\n                padding: 14px 0;\n            }\n            .info-tracks {\n                margin-right: 4px;\n            }\n            .info-owner {\n                &:after {\n                    content:\"*\";\n                    padding: 0 6px;\n                }\n            }\n        }\n\n        .info-interactive {\n            .play {\n                cursor: pointer;\n                background: #1DB954;\n                border-radius: 15px;\n                font-size: 11px;\n                letter-spacing: 2px;\n                font-weight: bold;\n                width: 106px;\n                padding: 4px;\n                text-align: center;\n            }\n        }\n`\n\n\nconst TracklistHeader = ({props}) => {\n    const {\n        tracks,\n        images,\n        name,\n        description,\n        owner,\n        total_duration,\n        type\n    } = props;\n\n    return (\n        <StyledHeader className=\"row\">\n            {(images.length && images[0].url &&\n                <div className=\"artwork col-auto d-none d-lg-block\">\n                    <img src={images[0].url} alt={name || ''}/>\n                </div>\n            )}\n            <div className=\"col info d-flex flex-column\">\n                <strong className=\"info-type\">{type}</strong>\n                <h3 className=\"info-name\">{name}</h3>\n                <span className=\"info-description\">\n                    {description}\n                </span>\n                <div className=\"info-details\">\n                    {\n                        (owner || {}).display_name && (\n                            <span className=\"info-owner\">\n                                Created by <strong>{(owner || {}).display_name}</strong>\n                            </span>\n                        )\n                    }\n                    <span className=\"info-tracks\">\n                        {(tracks || []).length} songs\n                    </span>\n                    <span className=\"info-duration\">\n                        {total_duration}\n                    </span>\n                </div>\n                <div className=\"info-interactive\">\n                    <div className=\"play\"> PLAY </div>\n                </div>\n            </div>\n        </StyledHeader>\n    )\n}\n\nexport default TracklistHeader;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport './style.scss';\n\nimport { setView } from './../../actions';\n\nclass Tracklist extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filteredItems : [],\n            limit : props.limit || null\n        }\n    }\n    setArtist ({ artist, total, index }) {\n        const { id, uri, name } = artist;\n        return (\n            <span\n                key={id+'#'+index}\n                onClick={(ev) => {\n                    ev.stopPropagation();\n                    this.props.setView({ uri });\n                }}\n            >\n                {total > 1 && index !== total - 1 ? `${name}, ` : name}\n            </span>\n        );\n    }\n\n    setAlbum(ev,item) {\n        ev.stopPropagation();\n        this.props.setView({ uri: item.album.uri });\n    }\n\n    renderList(item,index) {\n        return (\n            <tr\n                key={item.id+'#'+index}\n                onClick={() => {\n                    if (this.props.device_id) {\n                        this.props.player.play({\n                            uri: item.uri,\n                            uris: this.props.view.tracks,\n                            device_id: this.props.device_id,\n                        });\n                    }\n                }}\n            >\n                <td>\n                    <span><i className=\"play fas fa-play\"></i></span>\n                </td>\n                {\n                    item.name &&\n                    <td>\n                        <span>{item.name}</span>\n                    </td>\n                }\n                {\n                    item.artists &&\n                    <td>\n                        <span className=\"link\">{item.artists && Object.values(item.artists).map((artist, index) => this.setArtist({ artist,total: (item.artists || []).length, index }))}</span>\n                    </td>\n                }\n                {\n                    item.album &&\n                    <td>\n                        <span className=\"link\" onClick={(ev) => this.setAlbum(ev,item)}> {item.album.name} </span>\n                    </td>\n                }\n                {\n                item.duration_ms &&\n                <td>\n                    <span> {item.duration_ms} </span>\n                </td>\n                }\n            </tr>\n        );\n    }\n\n    onFilter(ev) {\n        this.setState({\n            filteredItems : this.props.view.table.body.filter(({name}) => name.toLowerCase().replace('','a').indexOf(ev.target.value.toLowerCase()) > -1 )\n        })\n    }\n\n    showMore() {\n        this.setState({ limit : +this.state.limit === 5 ? 10 : 5 });\n    }\n\n    render() {\n        if (this.props.view.tracks) {\n            return (\n                <>\n                    <div className=\"tracklist\">\n                        <div className=\"filter\">\n                            <input type=\"text\" placeholder=\"Filter\" onChange={(ev) => { this.onFilter(ev) }} />\n                        </div>\n                        <table className=\"table\">\n                            <thead>\n                                <tr className=\"header\">\n                                    <th scope=\"col\"></th>\n                                    {this.props.view.table.head.map(i => (<th key={i}>{i}</th>))}\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {((this.state.filteredItems || []).length > 0 ? this.state.filteredItems : this.props.view.table.body).map((i,index) => {\n                                    if((this.state.limit)) {\n                                        return (index < +this.state.limit) && this.renderList(i,index);\n                                    } else {\n                                        return this.renderList(i,index);\n                                    }\n                                })}\n                            </tbody>\n                        </table>\n                        { this.props.limit && <button class=\"toggleShow\" onClick={this.showMore.bind(this)}>show {+this.state.limit === 5 ? 'more' : 'less' }</button>}\n                    </div>\n                </>\n            );\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        player: state.player\n    };\n};\n\nexport default connect(mapStateToProps,{ setView })(Tracklist);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport './style.scss';\n\nimport { getView, setView } from \"../../actions\";\n\nimport TracklistHeader from \"../../components/tracklist-header\";\nimport Tracklist from \"../../components/tracklist\";\nimport Loading from \"../../components/loading\";\n\nclass Playlist extends React.Component {\n\n    componentWillMount() {\n        this.props.getView({\n            uri: this.props.uri\n        });\n    }\n\n    UNSAFE_componentWillUpdate(nextProps) {\n        if (\n            ((nextProps.view || {}).tracks || []).length &&\n            ((this.props.view || {}).tracks || []).length &&\n            this.props.uri !== nextProps.uri\n        ) {\n            this.props.getView({ uri: nextProps.uri });\n        }\n    }\n\n    render() {\n        const { tracks } = this.props.view;\n        const {\n            view,\n            device_id\n        } = this.props;\n\n        if (tracks) {\n            return (\n                <div className=\"playlist\">\n                    <TracklistHeader\n                        props={view}\n                    />\n                    <Tracklist\n                        view={view}\n                        device_id={device_id}\n                    />\n                </div>\n            );\n        } else {\n            return (\n                <Loading />\n            );\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        uri: state.uri,\n        view: state.view,\n        device_id: state.device_id\n    };\n};\n\nexport default connect(mapStateToProps, {\n    getView,\n    setView,\n})(Playlist);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport './style.scss';\n\nimport {\n    setView\n} from \"../../actions\";\n\nimport Loading from \"./../loading\";\n\nclass Grid extends React.Component {\n    renderAlbums(data) {\n        return (\n            <div className=\"album col-sm-3\" onClick={(ev) => { ev.stopPropagation(); this.props.setView({uri : data.uri}) }} key={data.id}>\n                <div className=\"image\" style={\n                    { backgroundImage: `url(${data.images.length && data.images[0].url})`, backgroundSize :'cover', backgroundPosition:'center center' }\n                }></div>\n                <div className=\"card-body\" onClick={(ev) => { ev.stopPropagation(); this.props.player.play({uri : data.uri, device_id : this.props.device_id }) }}>\n                    <p>PLAY</p>\n                    <p className=\"card-title\">{data.name}</p>\n                    <small className=\"card-text\" onClick={(ev) => { ev.stopPropagation(); this.props.setView({uri : data.artists[0].uri}) }}>{data.artists[0].name}</small>\n                </div>\n            </div>\n        )\n    }\n\n    renderRow(row) {\n        console.log(row)\n        return (\n            <>\n                <h2> {row.message} </h2>\n                <div className=\"albums-row\" key={row.type}>\n                    {row.items.map(this.renderAlbums.bind(this))}\n                </div>\n            </>\n        )\n    }\n\n    render() {\n        if(this.props.grid && Object.keys(this.props.grid).length && this.props.device_id) {\n            return (\n                <div className=\"grid\">\n                    {Object.values(this.props.grid).map(this.renderRow.bind(this))}\n                </div>\n            );\n        } else {\n            return (\n                <Loading />\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        player: state.player,\n        device_id : state.device_id\n    };\n};\n\nexport default connect(mapStateToProps, {\n    setView\n})(Grid);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport './style.scss';\n\nimport { getView, setView } from \"../../actions\";\n\nimport TracklistHeader from \"../../components/tracklist-header\";\nimport Tracklist from \"../../components/tracklist\";\nimport Loading from \"../../components/loading\";\nimport Grid from \"../../components/grid\";\n\nclass Artist extends React.Component {\n    componentWillMount() {\n        this.props.getView({ uri: this.props.uri });\n    }\n    componentDidUpdate(nextProps) {\n        if (\n            ((nextProps.view || {}).tracks || []).length &&\n            ((this.props.view || {}).tracks || []).length &&\n            this.props.uri !== nextProps.uri\n        ) {\n            this.props.getView({ uri: nextProps.uri });\n        }\n    }\n    render() {\n        const { tracks } = this.props.view;\n        const { view,device_id } = this.props;\n        if (tracks) {\n            return (\n                <div className=\"artist\">\n                    <TracklistHeader props={view} />\n                    <Tracklist view={view} limit=\"5\" device_id={device_id} />\n                    <Grid grid={view.albums} />\n                </div>\n            );\n        } else {\n            return (\n                <Loading />\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        uri: state.uri,\n        view: state.view,\n        device_id: state.device_id\n    };\n};\n\nexport default connect(mapStateToProps, {\n    getView,\n    setView\n})(Artist);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport './style.scss';\n\nimport {\n    getSavedTracks,\n    setView\n} from \"../../actions\";\n\nimport Grid from \"../../components/grid\";\nimport Loading from \"../../components/loading\";\n\nclass SavedTracks extends React.Component {\n    componentDidMount() {\n        this.props.getSavedTracks();\n    }\n\n    render() {\n        if(Object.keys(this.props.grid).length && this.props.device_id) {\n            return (\n                <Grid grid={this.props.grid} />\n            );\n        } else {\n            return (\n                <Loading />\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        grid: state.grid,\n        player: state.player,\n        device_id : state.device_id\n    };\n};\n\nexport default connect(mapStateToProps, {\n    getSavedTracks,\n    setView\n})(SavedTracks);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport './style.scss';\n\nimport { getView, setView } from \"../../actions\";\n\nimport TracklistHeader from \"../../components/tracklist-header\";\nimport Tracklist from \"../../components/tracklist\";\nimport Loading from \"../../components/loading\";\n\nclass Album extends React.Component {\n\n    componentWillMount() {\n        this.props.getView({\n            uri: this.props.uri\n        });\n    }\n\n    render() {\n        const { tracks } = this.props.view;\n        const {\n            view,\n            device_id\n        } = this.props;\n\n        if (tracks) {\n            return (\n                <div className=\"playlist\">\n                    <TracklistHeader\n                        props={view}\n                    />\n                    <Tracklist\n                        view={view}\n                        device_id={device_id}\n                    />\n                </div>\n            );\n        } else {\n            return (\n                <Loading />\n            );\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        uri: state.uri,\n        view: state.view,\n        device_id: state.device_id\n    };\n};\n\nexport default connect(mapStateToProps, {\n    getView,\n    setView,\n})(Album);\n","import React from \"react\";\nimport Home from \"../../pages/home\";\nimport Playlist from \"../../pages/playlist\";\nimport Artist from \"../../pages/artist\";\nimport SavedTracks from \"../../pages/saved-tracks\";\nimport Album from \"../../pages/album\";\n\nconst View = (props) => {\n    const { uri } = props;\n    return (\n            <>\n                {props.uri.indexOf('album') >= 0 ? (\n                    <Album />\n                ) : uri.indexOf('artist') >= 0 ? (\n                    <Artist />\n                ) : uri.indexOf('playlist') >= 0 ? (\n                    <Playlist />\n                ) : uri.indexOf('home') >= 0 ? (\n                    <Home />\n                ) : uri.indexOf('saved-tracks') >= 0 ? (\n                    <SavedTracks />\n                ) : (\n                    'TRISTE'\n                )}\n            </>\n    );\n\n}\n\nexport default View;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport SpotifyLogin from 'react-spotify-login';\nimport styled from 'styled-components';\n\nimport { clientId, redirectUri } from './../../config';\nimport { logout, login } from './../../actions';\nimport { scope } from './../../api';\n\nconst StyledLogin = styled.div`\n    @font-face {\n        font-family: 'Cooper Black';\n        src: url(${process.env.PUBLIC_URL}/assets/cooper_black.ttf);\n    }\n\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    font-family: \"Cooper Black\";\n    background: rgba(28,28,28);\n    border: 2em solid #ffffff;\n    color: #fff;\n    overflow: none;\n    height: 100vh;\n    text-align: center;\n\n    .title {\n        padding: 20px;\n        font-size: 2em;\n        p {\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        border: 1px solid #ffffff;\n        font-size: 17px;\n        color: #ffffff;\n    }\n`\n\nclass Login extends React.Component {\n    onSuccess(response) {\n        this.props.login(response);\n    }\n    onFailure(err) {\n        console.log('fail',err);\n    }\n    logout() {\n        this.props.logout();\n    }\n    render() {\n        return (\n            <StyledLogin style={{backgroundImage : `url('${process.env.PUBLIC_URL}/assets/background.jpg')`, backgroundSize : 'cover'}}>\n                <div className=\"login container\">\n                    <SpotifyLogin\n                        className=\"btn\"\n                        clientId={clientId}\n                        redirectUri={redirectUri}\n                        onSuccess={(response) => { this.onSuccess(response) }}\n                        onFailure={this.onFailure}\n                        scope={scope}\n                    />\n                </div>\n            </StyledLogin>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user : state.user\n    };\n}\n\nexport default connect(mapStateToProps, { login,logout })(Login);\n","export const clientId = '38a9d82012ce4dcc81269de4479a74fa'; // NOCOMMIT\nexport const clientSecret  = '31cafd8a23394dbfa3bc848199a97bfd'; // NOCOMMIT\nexport const redirectUri = process.env.NODE_ENV === 'development' ? 'http://localhost:3000/' : 'https://kenjikatahira.github.io/react-spotify-player/';\n","import React from \"react\";\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nconst Menu = ({playlists, setView, uri, logout, getPlaylists}) => {\n    // Retorna a playlist do usuario\n    !Object.keys(playlists).length && getPlaylists && getPlaylists();\n    // Menu de itens fixos\n    let  menuItems = [\n        {\n            name: \"Home\",\n            uri: \"home\",\n            icon: <i className=\"fas fa-home\">home</i>,\n        },\n        // {\n        //     name: \"Browse\",\n        //     uri: \"browse\",\n        //     icon: <i className=\"fa fa-folder-open\" aria-hidden=\"true\"></i>,\n        // },\n        {\n            el: <li key=\"your-library\" className=\"lead\"> Your Library </li>\n        },\n        {\n            name: \"Saved\",\n            uri: \"saved-tracks\"\n        },\n        // {\n        //     name: \"Recently Played\",\n        //     uri: \"recently-played\"\n        // },\n        // {\n        //     name: \"Liked Songs\",\n        //     uri: \"liked-songs\"\n        // },\n        // {\n        //     name: \"Albums\",\n        //     uri: \"albums\"\n        // },\n        // {\n        //     name: \"Bands\",\n        //     uri: \"bands\"\n        // },\n        // {\n        //     name: \"Podcasts\",\n        //     uri: \"podcasts\"\n        // },\n        {\n            el: <><hr className=\"separator\"></hr><li key=\"lead-playlists\" className=\"lead\"> Playlists </li></>\n        }\n    ];\n    const renderList = (item) => {\n        const { display_name } = (item || {}.owner)\n        if(item.el) {\n            return item.el;\n        } else {\n            return (\n                <li\n                    key={item.uri}\n                    className={uri === item.uri ? \"active\" : \"\"}\n                    data-owner={display_name ? `* by ${display_name}`: \"\" }\n                    id={item.uri}\n                    onClick={() => setView({ uri: item.uri })}\n                >\n                    {item.icon ? item.icon : ''} {item.name}\n                </li>\n            );\n        }\n    }\n    if((playlists.items || []).length) {\n        return (\n            <ul className=\"menu\">\n                <div className=\"logo-wrapper\">\n                    <span className=\"made\">learning porpouse</span>\n                    <svg viewBox=\"0 0 1134 340\" class=\"spotify-logo\"><path fill=\"currentColor\" d=\"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z\"></path></svg>\n                    <span className=\"made\">made with react</span>\n                </div>\n                <hr className=\"separator\"></hr>\n                <div className=\"fixed-pages\">\n                    {menuItems.map((i) => renderList(i))}\n                </div>\n                {playlists.items.map((i) => renderList(i))}\n            </ul>\n        );\n    } else {\n        return (\n            <ul className=\"menu\">\n                <div className=\"fixed-pages\">\n                    {menuItems.map((i) => renderList(i))}\n                </div>\n            </ul>\n        );\n    }\n}\n\nMenu.propTypes = {\n    playlists : PropTypes.object,\n    uri : PropTypes.string,\n    setView : PropTypes.func,\n    logout : PropTypes.func\n}\n\nexport default Menu;\n","import React from 'react';\n\nimport './style.scss';\n\nconst Playing = ({current_state : { current_track }}) => {\n    const image = ((((current_track || {}).album || {}).images || [])[0] || {}).url;\n    const track = (current_track || {}).name;\n    const artist = (((current_track || {}).artists || [])[0] || {}).name;\n    return (\n        <div className=\"playing\">\n            <div className=\"image\">\n                <img src={image} alt={image} />\n            </div>\n            <div className=\"info\">\n                <div className=\"track\"><b>{track}</b></div>\n                <div className=\"playing-artist\">{artist}</div>\n            </div>\n        </div>\n    )\n}\n\nexport default Playing;\n\n","import React from 'react';\n\nimport {formatTrackDuration} from './../../utils';\n\nimport './style.scss';\n\nconst Timer = ({count,fixed}) => {\n    return (\n        <div className=\"timer\">\n            {formatTrackDuration(fixed ? fixed : count)}\n        </div>\n    )\n}\n\nexport default Timer;\n\n","import React, { useState, useEffect } from 'react';\n\nimport Timer from '../timer';\n\nconst TimerContainer = ({current_state,fixed}) => {\n    const {\n        paused,\n        position,\n        current_track\n    } = current_state;\n\n    let [state, setState] = useState({\n        count : 0,\n        current_track\n    });\n\n    // se trocar a musica, zera a contagem\n    if((current_track || {}).id !== (state.current_track || {}).id) {\n        setState({\n            count: 0,\n            current_track : current_track\n        });\n    }\n\n    const timer = (cb) => {\n        const _timer = {\n            start : () => setTimeout(() => {\n                setState({\n                    count : state.count + 1000,\n                    current_track\n                });\n            }, 1000),\n            stop : () => {\n                if((this || {}).start) {\n                    clearTimeout(this.start);\n                }\n            }\n        }\n        _timer[cb]();\n    }\n\n    useEffect(() => {\n        if(!paused && position !== undefined)  {\n            timer('start');\n        } else if(paused){\n            timer('stop');\n        }\n    });\n\n    return (\n        <Timer count={state.count} fixed={fixed} />\n    )\n}\n\nexport default TimerContainer;\n\n","import React from 'react';\nimport './style.scss';\nimport { connect } from \"react-redux\";\nimport { setCurrentState } from '../../actions';\n\nimport Playing from '../playing';\nimport TimerContainer from '../timerContainer';\nimport Timer from '../timer';\n\nclass NowPlaying extends React.Component {\n    componentDidUpdate() {\n        if(\n            this.props.player &&\n            this.props.player.addListener &&\n            !this.connected\n        ) this.configurePlayer(this.props.player);\n    }\n\n    onChange(state) {\n        this.props.setCurrentState(state);\n    }\n\n    /**\n     * Configure spotify player listeners\n     * @function configurePlayer\n     * @param player Spotify Player Instance\n     * @return {Void}\n     */\n    configurePlayer(player) {\n        if(!player) return;\n        // player -> instancia do spotify player\n        player.addListener('ready', ({device_id}) => {\n            console.log('Ready - Device ID', device_id);\n            player.setDeviceId(device_id);\n        });\n        // update status - action\n        player.addListener('player_state_changed', this.onChange.bind(this));\n        // player connected\n        player.connect();\n        // connected\n        this.connected = true;\n    }\n\n    togglePlayButton() {\n        const { paused } = this.props.current_state;\n        if(paused === undefined || paused) {\n            return (\n                <button\n                    className=\"btn btn-outline-secondary control-button play\"\n                    onClick={() => {\n                        this.props.player.resume({device_id : this.props.device_id || ''})\n                    }}\n                >\n                    <i className=\"fas fa-play\"></i>\n                </button>\n            )\n        } else {\n            return (\n                <button className=\"btn btn-outline-secondary control-button play\" onClick={this.props.player.pause}>\n                    <i className=\"fas fa-pause\" onClick={this.props.player.pause}></i>\n                </button>\n            )\n        }\n    }\n\n    render() {\n        const {\n            player,\n            current_state\n        } = this.props;\n\n        const { current_track } = current_state;\n\n        // verify if player device_id is ready to take commands\n        if(this.props.device_id) {\n            return(\n                <>\n                    <div className=\"now-playing\">\n                        <div className=\"playing-wrapper\">\n                            <Playing current_state={current_state} />\n                        </div>\n                        <div className=\"inner-now-playing\">\n                            <div className=\"controls-buttons\">\n                                <button className=\"btn control-button\" onClick={() => {player.previous(this.teste)}}>\n                                    <i className=\"fas fa-backward\"></i>\n                                </button>\n                                {this.togglePlayButton()}\n                                <button className=\"btn control-button\" onClick={player.next}>\n                                    <i className=\"fas fa-forward\"></i>\n                                </button>\n                            </div>\n                            <div className=\"playback-bar\">\n                                <TimerContainer current_state={current_state} />\n                                <div className=\"playback-progress-bar\">\n                                    <div className=\"progress-bar-inner\"></div>\n                                </div>\n                                {\n                                    (current_track || {}).duration_ms && <Timer fixed={(current_track || {}).duration_ms} />\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </>\n            )\n        }\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        device_id: state.device_id,\n        player : state.player,\n        current_state : state.current_state\n    };\n};\n\nexport default connect(mapStateToProps, { setCurrentState })(NowPlaying);\n\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport './style.scss';\n\nimport {\n    logout,\n    getUser,\n    getPlaylists,\n    setView,\n    setDeviceId,\n    getPlayer\n} from \"../../actions\";\n\nimport View from \"../view\";\nimport Login from \"../login\";\nimport Menu from \"../menu\";\nimport NowPlaying from \"../nowplaying\";\n\nclass Main extends React.Component {\n    constructor() {\n        super();\n        /**\n         * Aplication Initiated Flag\n         * @type {Boolean}\n         */\n        this.initiated = false;\n    }\n    /**\n     * Initial configuration\n     * @function run\n     * @return {Void}\n     */\n    run() {\n        const { setDeviceId } = this.props;\n        this.props.getPlayer({ setDeviceId })\n        this.initiated = true;\n    }\n    UNSAFE_componentWillUpdate() {\n        !this.initiated  && this.props.logged.status === true && this.run();\n    }\n    componentDidMount() {\n        window.onSpotifyWebPlaybackSDKReady = () => {\n            const lastPage = window.localStorage.getItem('last_uri');\n            // Seta a primeira view\n            this.props.setView(lastPage ? { uri : lastPage} : '');\n        };\n    }\n    onSearchChange(ev) {\n        console.log(ev);\n    }\n    render() {\n        const {\n            logged,\n            uri,\n            tracks,\n            getPlaylists,\n            logout,\n            setView,\n            playlists\n        } = this.props;\n        if(!logged.status) {\n            return <Login />;\n        } else {\n            return (\n                <div className=\"main\">\n                    <div className=\"menu-wrapper\">\n                        <Menu\n                            getPlaylists={getPlaylists}\n                            logout={logout}\n                            setView={setView}\n                            playlists={playlists}\n                            uri={uri}\n                        />\n                    </div>\n                    <div className=\"browser-wrapper\">\n                        <a class=\"github\" href=\"https://github.com/kenjikatahira/react-spotify-player\" target=\"_blank\" rel=\"noopener noreferrer\" >\n                            <img loading=\"lazy\" width=\"149\" height=\"149\" src=\"https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149\" class=\"attachment-full size-full\" alt=\"Fork me on GitHub\" data-recalc-dims=\"1\" />\n                        </a>\n                        <div className=\"browser-inner-wrapper\">\n                            <View\n                                uri={uri}\n                                tracks={tracks}\n                            />\n                        </div>\n                    </div>\n                    <div className=\"now-playing-wrapper\">\n                        <NowPlaying />\n                    </div>\n                </div>\n            );\n        }\n\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.user,\n        logged: state.logged,\n        playlists: state.playlists,\n        uri: state.uri,\n        device_id: state.device_id\n    };\n};\n\nexport default connect(mapStateToProps, {\n    logout,\n    getUser,\n    getPlaylists,\n    setView,\n    setDeviceId,\n    getPlayer\n})(Main);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\n\nimport { isLogged } from './actions';\n\nimport Main from './components/main';\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.isLogged();\n    }\n    render() {\n        return (\n            <div className=\"app\">\n                <Main></Main>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        logged : state.logged\n    };\n}\n\nexport default connect(mapStateToProps, { isLogged })(App);\n","import React from 'react';\nimport thunk from 'redux-thunk';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware } from 'redux';\nimport reducers from './reducers';\nimport App from './App';\n\nconst store = createStore(\n  reducers,applyMiddleware(\n    thunk\n  )\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}